<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>TYPO3 Neos is so MVC: bridging the gap between two worlds</title>
    <meta name=viewport content="width=device-width, initial-scale=1">
    <meta name="description" content="Reflections on modern web development techniques.">
    <link rel="canonical" href="http://dimaip.tumblr.com/2014/08/13/typo3-neos-is-so-mvc/">
	<!-- Custom CSS -->
    <link rel="stylesheet" href="/css/my.css">

</head>


    <body>

    <header class="Header">

  <div class="FixedWidth">
    <div class="SiteTitle">
        <a class="SiteTitle-Link" href="/">Dmitri Pisarev</a>
        <div class="SiteTitle-Moto" href="/">Web development with Love</div>
    </div>
    <nav class="Nav">
        
          <a class="Nav-Link" href="/about/">About</a>
        
          
        
          
        
          
        
    </nav>

  </div>

</header>


    <div class="FixedWidth">
      <div class="Post">

	<header class="PostHeader">
    	<h1 class="H1">TYPO3 Neos is so MVC: bridging the gap between two worlds</h1>
    	<p class="PostHeader-Meta">Aug 13, 2014</p>
	</header>

	<article class="PostContent MarkDown">
	<p>This year I took a deep dive into the world of frontend. To my surprise it’s not so much about “pixel-perfect” spaghetti CSS code whirled over HTML, page by page. Nowadays frontend has architecture, it has deep thought behind it. The other thing that surprised me is that not many of server-side guys seem to care about it, they think they have a separate, much more sophisticated realm of its own. Heck, even designers have become closer to understanding frontend, than the server-side people. This article will be an attempt to look at the most advanced server-side CMS with the eyes of frontend architect and MVC-lover.</p>

<h2 id="starting-point">Starting point</h2>

<p>My frontend code is modular and very well organised with the <a href="http://bradfrostweb.com/blog/post/atomic-web-design/">Atomic design methodology</a>, a flavor of <a href="https://github.com/stubbornella/oocss/wiki">OOCSS</a> and <a href="https://smacss.com/">SMACSS</a>. Also I use <a href="http://bem.info/">BEM</a> naming convention for classes. On top of that, <a href="http://alistapart.com/article/creating-style-guides">the living styleguide</a> is generated to provide a collection of LEGO blocks for the whole design team. The CSS is lean and rational, you don’t find a <a href="http://csswizardry.com/2012/11/code-smells-in-css/">magic number</a> in it often. Now I hear you say, what does it have to do with a CMS? – It has a lot to do with Neos!</p>

<h2 id="separation-of-content-and-presentation">Separation of content and presentation</h2>

<p>The idea of separation of content and presentation has emrged long ago for the world wide web. I grew up as web developer in <a href="http://www.csszengarden.com/">CSSZenGarden</a> and have that idea in my guts. But this idea has a sibling in the world of classical software development – Model-View-Controller pattern. I find this pattern very well applicable to the process of website building.</p>

<p>I have an idea to employ Neos to filling the gap between these two worlds, and ultimately saving the whole world wide web!</p>

<h2 id="mvc-vs-neos">MVC vs. NEOS</h2>

<p>I just recently got started digging into Neos, and at first I had a question: we have yaml, we have fluid, why TypoScript2?! The answer I gave to myself: to make it look like MVC. Here follows a brief explanation of this crazy idea.</p>

<h3 id="model">Model</h3>

<p>With model it’s pretty clear: TYPO3CR provides a very well structured way to store and edit your content. You can query it from TypoScript the way many storage solutions would be jealous. Clear, extendable, robust, sitting on top of industry-standard Doctrine. So far so good.</p>

<h3 id="view">View</h3>

<p>Rooted deeply in the frontend architecture philosophy, we have the view.</p>

<p>Powerful FLUID templates are very easy to overdo and stuff in with all sorts of content specific logic. Ideally the view templates should be completely logic-less.</p>

<p>That would allow creating encapsulated HTML+CSS+JS building blocks, which can be filled with data coming from any location. Imagine having a typical [media element], title+teaser+image, which can hold news articles, promo links to other pages and what not. In addition to that, the same news article can be rendered with different view modules, like Media, Media–Important and Media–Urgent.</p>

<h3 id="controller">Controller</h3>

<p>Now the question is how to connect these two realms in the right way.</p>

<p>For Neos we have a magical heritage from the days of Kasper – TypoScript, now flexible as ever in its second version!</p>

<p>In TS2 we can easily query our model, the TYPO3CR, traverse nodes, process properties in any ways we can think of. There are still some things missing, like the node linking feature, or media image rendering, but that will soon be added to TS. Finally, if you have something unique, you can create your own TS object with custom implementation class.</p>

<p>Now the difference with real controller is that one controller may have actions classes, so single TS object may function more as analog of action, rather than controller. Multiple action TS objects may be joined to resemble something like a controller with the help of naming conventions or a parent prototype, that will hold relevant action objects together. TODO: think this through.</p>

<h3 id="routing">Routing</h3>

<p>And yes, we even have some sort of routing in the form of ‘root’ TS object, but there’s nothing that stops us from developing this concept even further. I leave it up to your imagination.</p>

<h2 id="conclusion">Conclusion</h2>

<p>The front end and server-side people should communicate more! We have ideas to share, and here, at front end, we also have a passion for code, crisp architecture and beautiful design.</p>

<p>This article was meant as a very rough analogy, which certainly has its limits. It’s more of an insight, a fresh look at how we look at our code.</p>

<p><strong>DOES IT MAKE ANY SENSE AT ALL?! I need your response!</strong></p>

	</article>
  
	
	<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'webandstuff'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
	

</div>
    </div>

    <footer class="Footer">
  <div class="FixedWidth">
    <div class="Footer-Right">
      <p class="RssSubscribe">
        <a href="/feed.xml">subscribe via RSS</a>
      </p>
      <ul class="Socials">
        <li class="Social">
          <a title="Github: dimaip" href="https://github.com/dimaip">
            <span class="icon github">
              <svg version="1.1" class="github-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                <path fill-rule="evenodd" clip-rule="evenodd" fill="#C2C2C2" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761
                  c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32
                  c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472
                  c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037
                  C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65
                  c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261
                  c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082
                  c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129
                  c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"></path>
              </svg>
            </span>
          </a>
        </li>
        <li class="Social">
          <a title="Twitter: dimaip" href="https://twitter.com/dimaip">
            <span class="icon twitter">
              <svg version="1.1" class="twitter-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                <path fill="#C2C2C2" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27
                  c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767
                  c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206
                  C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271
                  c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469
                  c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"></path>
              </svg>
            </span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52948019-1', 'auto');
  ga('send', 'pageview');

</script>

    </body>
</html>